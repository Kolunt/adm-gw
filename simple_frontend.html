<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ê–Ω–æ–Ω–∏–º–Ω—ã–π –î–µ–¥ –ú–æ—Ä–æ–∑</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        
        .header {
            background: linear-gradient(135deg, #2d5016 0%, #52c41a 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }
        
        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }
        
        .header p {
            font-size: 1.2em;
            opacity: 0.9;
        }
        
        .content {
            padding: 40px;
        }
        
        .status {
            background: #f0f9ff;
            border: 1px solid #0ea5e9;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 30px;
        }
        
        .status h3 {
            color: #0369a1;
            margin-bottom: 10px;
        }
        
        .api-info {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .api-card {
            background: #f8fafc;
            border: 1px solid #e2e8f0;
            border-radius: 10px;
            padding: 20px;
            transition: transform 0.2s;
        }
        
        .api-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
        }
        
        .api-card h4 {
            color: #1e293b;
            margin-bottom: 10px;
            font-size: 1.2em;
        }
        
        .api-card p {
            color: #64748b;
            margin-bottom: 15px;
        }
        
        .btn {
            background: #2d5016;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            cursor: pointer;
            text-decoration: none;
            display: inline-block;
            font-size: 16px;
            transition: background 0.2s;
        }
        
        .btn:hover {
            background: #1a3009;
        }
        
        .btn-secondary {
            background: #52c41a;
        }
        
        .btn-secondary:hover {
            background: #389e0d;
        }
        
        .features {
            background: #f8fafc;
            border-radius: 10px;
            padding: 30px;
            margin-top: 30px;
        }
        
        .features h3 {
            color: #1e293b;
            margin-bottom: 20px;
            text-align: center;
        }
        
        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
        }
        
        .feature {
            text-align: center;
            padding: 20px;
        }
        
        .feature-icon {
            font-size: 3em;
            margin-bottom: 15px;
        }
        
        .feature h4 {
            color: #1e293b;
            margin-bottom: 10px;
        }
        
        .feature p {
            color: #64748b;
        }
        
        .footer {
            background: #1e293b;
            color: white;
            text-align: center;
            padding: 20px;
        }
        
        .error {
            background: #fef2f2;
            border: 1px solid #fecaca;
            color: #dc2626;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
        }
        
        .success {
            background: #f0fdf4;
            border: 1px solid #bbf7d0;
            color: #16a34a;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üéÖ –ê–Ω–æ–Ω–∏–º–Ω—ã–π –î–µ–¥ –ú–æ—Ä–æ–∑</h1>
            <p>–°–∏—Å—Ç–µ–º–∞ –æ–±–º–µ–Ω–∞ –ø–æ–¥–∞—Ä–∫–∞–º–∏</p>
        </div>
        
        <div class="content">
            <div id="status" class="status">
                <h3>–°—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º—ã</h3>
                <p id="status-text">–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ API...</p>
            </div>
            
            <div class="api-info">
                <div class="api-card">
                    <h4>üìö API –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è</h4>
                    <p>–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è endpoints</p>
                    <a href="http://127.0.0.1:8006/docs" target="_blank" class="btn">–û—Ç–∫—Ä—ã—Ç—å Swagger UI</a>
                </div>
                
                <div class="api-card">
                    <h4>üîß API Endpoints</h4>
                    <p>–û—Å–Ω–æ–≤–Ω—ã–µ API endpoints –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Å–∏—Å—Ç–µ–º–æ–π</p>
                    <button onclick="testAPI()" class="btn btn-secondary">–¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å API</button>
                </div>
                
                <div class="api-card">
                    <h4>üë• –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏</h4>
                    <p>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ –∏ –ø—Ä–æ—Ñ–∏–ª—è–º–∏</p>
                    <button onclick="loadUsers()" class="btn">–ó–∞–≥—Ä—É–∑–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</button>
                </div>
                
                <div class="api-card">
                    <h4>üìÖ –ú–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è</h4>
                    <p>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è–º–∏ –∏ —Å–æ–±—ã—Ç–∏—è–º–∏</p>
                    <button onclick="loadEvents()" class="btn">–ó–∞–≥—Ä—É–∑–∏—Ç—å –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è</button>
                </div>
            </div>
            
            <div class="features">
                <h3>–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã</h3>
                <div class="features-grid">
                    <div class="feature">
                        <div class="feature-icon">üë§</div>
                        <h4>–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</h4>
                        <p>–ë–µ–∑–æ–ø–∞—Å–Ω–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è</p>
                    </div>
                    <div class="feature">
                        <div class="feature-icon">üéÅ</div>
                        <h4>–û–±–º–µ–Ω –ø–æ–¥–∞—Ä–∫–∞–º–∏</h4>
                        <p>–ê–Ω–æ–Ω–∏–º–Ω—ã–π –æ–±–º–µ–Ω –ø–æ–¥–∞—Ä–∫–∞–º–∏ –º–µ–∂–¥—É —É—á–∞—Å—Ç–Ω–∏–∫–∞–º–∏</p>
                    </div>
                    <div class="feature">
                        <div class="feature-icon">üìä</div>
                        <h4>–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω–∞—è –ø–∞–Ω–µ–ª—å</h4>
                        <p>–ü–æ–ª–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º–æ–π –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏</p>
                    </div>
                    <div class="feature">
                        <div class="feature-icon">üîí</div>
                        <h4>–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å</h4>
                        <p>–ó–∞—â–∏—â–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏ –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏</p>
                    </div>
                </div>
            </div>
            
            <div id="results" style="margin-top: 30px;"></div>
        </div>
        
        <div class="footer">
            <p>&copy; 2025 –ê–Ω–æ–Ω–∏–º–Ω—ã–π –î–µ–¥ –ú–æ—Ä–æ–∑. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.</p>
        </div>
    </div>

    <script>
        const API_BASE = 'http://127.0.0.1:8006';
        
        // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ API
        async function checkAPIStatus() {
            try {
                const response = await fetch(`${API_BASE}/`);
                const data = await response.json();
                
                document.getElementById('status').className = 'success';
                document.getElementById('status-text').textContent = '‚úÖ API —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ';
            } catch (error) {
                document.getElementById('status').className = 'error';
                document.getElementById('status-text').textContent = '‚ùå –û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ API: ' + error.message;
            }
        }
        
        // –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ API
        async function testAPI() {
            const resultsDiv = document.getElementById('results');
            resultsDiv.innerHTML = '<div class="status"><h3>–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ API...</h3><p>–í—ã–ø–æ–ª–Ω—è–µ–º —Ç–µ—Å—Ç—ã...</p></div>';
            
            try {
                // –¢–µ—Å—Ç –æ—Å–Ω–æ–≤–Ω–æ–≥–æ endpoint
                const mainResponse = await fetch(`${API_BASE}/`);
                const mainData = await mainResponse.json();
                
                // –¢–µ—Å—Ç health check (–µ—Å–ª–∏ –µ—Å—Ç—å)
                let healthData = null;
                try {
                    const healthResponse = await fetch(`${API_BASE}/health`);
                    healthData = await healthResponse.json();
                } catch (e) {
                    // Health endpoint –º–æ–∂–µ—Ç –Ω–µ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞—Ç—å
                }
                
                resultsDiv.innerHTML = `
                    <div class="success">
                        <h3>‚úÖ API —Ç–µ—Å—Ç—ã –ø—Ä–æ–π–¥–µ–Ω—ã —É—Å–ø–µ—à–Ω–æ</h3>
                        <p><strong>–û—Å–Ω–æ–≤–Ω–æ–π endpoint:</strong> ${JSON.stringify(mainData)}</p>
                        ${healthData ? `<p><strong>Health check:</strong> ${JSON.stringify(healthData)}</p>` : ''}
                    </div>
                `;
            } catch (error) {
                resultsDiv.innerHTML = `
                    <div class="error">
                        <h3>‚ùå –û—à–∏–±–∫–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è API</h3>
                        <p>${error.message}</p>
                    </div>
                `;
            }
        }
        
        // –ó–∞–≥—Ä—É–∑–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
        async function loadUsers() {
            const resultsDiv = document.getElementById('results');
            resultsDiv.innerHTML = '<div class="status"><h3>–ó–∞–≥—Ä—É–∑–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π...</h3><p>–ü–æ–ª—É—á–∞–µ–º –¥–∞–Ω–Ω—ã–µ...</p></div>';
            
            try {
                const response = await fetch(`${API_BASE}/users/`);
                const users = await response.json();
                
                let usersHtml = '<div class="success"><h3>üë• –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å–∏—Å—Ç–µ–º—ã</h3>';
                if (users.length > 0) {
                    usersHtml += '<ul style="text-align: left; margin-top: 15px;">';
                    users.forEach(user => {
                        usersHtml += `<li><strong>${user.name || user.email}</strong> (${user.role || 'user'})</li>`;
                    });
                    usersHtml += '</ul>';
                } else {
                    usersHtml += '<p>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã</p>';
                }
                usersHtml += '</div>';
                
                resultsDiv.innerHTML = usersHtml;
            } catch (error) {
                resultsDiv.innerHTML = `
                    <div class="error">
                        <h3>‚ùå –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</h3>
                        <p>${error.message}</p>
                    </div>
                `;
            }
        }
        
        // –ó–∞–≥—Ä—É–∑–∫–∞ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π
        async function loadEvents() {
            const resultsDiv = document.getElementById('results');
            resultsDiv.innerHTML = '<div class="status"><h3>–ó–∞–≥—Ä—É–∑–∫–∞ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π...</h3><p>–ü–æ–ª—É—á–∞–µ–º –¥–∞–Ω–Ω—ã–µ...</p></div>';
            
            try {
                const response = await fetch(`${API_BASE}/events/`);
                const events = await response.json();
                
                let eventsHtml = '<div class="success"><h3>üìÖ –ú–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è</h3>';
                if (events.length > 0) {
                    eventsHtml += '<ul style="text-align: left; margin-top: 15px;">';
                    events.forEach(event => {
                        eventsHtml += `<li><strong>${event.title}</strong> - ${event.description || '–ë–µ–∑ –æ–ø–∏—Å–∞–Ω–∏—è'}</li>`;
                    });
                    eventsHtml += '</ul>';
                } else {
                    eventsHtml += '<p>–ú–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è –Ω–µ –Ω–∞–π–¥–µ–Ω—ã</p>';
                }
                eventsHtml += '</div>';
                
                resultsDiv.innerHTML = eventsHtml;
            } catch (error) {
                resultsDiv.innerHTML = `
                    <div class="error">
                        <h3>‚ùå –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π</h3>
                        <p>${error.message}</p>
                    </div>
                `;
            }
        }
        
        // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å—Ç–∞—Ç—É—Å –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        window.onload = function() {
            checkAPIStatus();
        };
    </script>
</body>
</html>


