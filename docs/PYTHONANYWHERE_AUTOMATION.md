# –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –¥–µ–ø–ª–æ—è –Ω–∞ PythonAnywhere

## üîß –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏

–ö —Å–æ–∂–∞–ª–µ–Ω–∏—é, —è –Ω–µ –º–æ–≥—É –Ω–∞–ø—Ä—è–º—É—é –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ PythonAnywhere (–Ω–µ—Ç SSH –¥–æ—Å—Ç—É–ø–∞ –∏ API –∫–ª—é—á–µ–π), –Ω–æ –º–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å **–ø–æ–ª—É–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π** —á–µ—Ä–µ–∑ —Å–∫—Ä–∏–ø—Ç—ã.

## üìã –í–∞—Ä–∏–∞–Ω—Ç—ã –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏

### –í–∞—Ä–∏–∞–Ω—Ç 1: Git + Bash —Å–∫—Ä–∏–ø—Ç (–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

–°–æ–∑–¥–∞–π—Ç–µ —Å–∫—Ä–∏–ø—Ç –Ω–∞ PythonAnywhere, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è—Ç—å –∫–æ–¥ –∏–∑ Git:

#### 1. –°–æ–∑–¥–∞–π—Ç–µ —Å–∫—Ä–∏–ø—Ç –Ω–∞ PythonAnywhere

–í –∫–æ–Ω—Å–æ–ª–∏ PythonAnywhere –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:

```bash
cd ~
nano deploy.sh
```

–í—Å—Ç–∞–≤—å—Ç–µ —Å–ª–µ–¥—É—é—â–∏–π –∫–æ–¥:

```bash
#!/bin/bash
# –°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –¥–µ–ø–ª–æ—è –Ω–∞ PythonAnywhere

echo "=== –î–µ–ø–ª–æ–π –ø—Ä–æ–µ–∫—Ç–∞ –ê–Ω–æ–Ω–∏–º–Ω—ã–π –î–µ–¥ –ú–æ—Ä–æ–∑ ==="
echo ""

# –ü–µ—Ä–µ—Ö–æ–¥–∏–º –≤ –ø–∞–ø–∫—É –ø—Ä–æ–µ–∫—Ç–∞
cd ~/gwadm

# –û–±–Ω–æ–≤–ª—è–µ–º –∫–æ–¥ –∏–∑ Git (–≤–∫–ª—é—á–∞—è frontend build)
echo "1. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–¥–∞ –∏–∑ Git..."
git pull origin master

# –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–ª–∏—á–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π
if [ $? -eq 0 ]; then
    echo "‚úÖ –ö–æ–¥ –æ–±–Ω–æ–≤–ª–µ–Ω"
else
    echo "‚ùå –û—à–∏–±–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∫–æ–¥–∞"
    exit 1
fi

# –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–ª–∏—á–∏–µ build –ø–∞–ø–∫–∏
if [ ! -d "build" ]; then
    echo ""
    echo "‚ö†Ô∏è  –ü–∞–ø–∫–∞ build –Ω–µ –Ω–∞–π–¥–µ–Ω–∞!"
    echo "   –í—ã –º–æ–∂–µ—Ç–µ —Å–æ–±—Ä–∞—Ç—å —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –∑–¥–µ—Å—å –∏–ª–∏ –∑–∞–≥—Ä—É–∑–∏—Ç—å —á–µ—Ä–µ–∑ Git"
    echo "   –î–ª—è —Å–±–æ—Ä–∫–∏: npm install && npm run build"
else
    echo ""
    echo "‚úÖ Frontend build –Ω–∞–π–¥–µ–Ω"
fi

# –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º/–æ–±–Ω–æ–≤–ª—è–µ–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
echo ""
echo "2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π backend..."
cd ~/gwadm/backend
pip3.10 install --user -r requirements.txt --quiet

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ–º –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
echo ""
echo "3. –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è..."
echo "‚ö†Ô∏è  –í–ê–ñ–ù–û: –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ Web ‚Üí Reload –¥–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π!"

echo ""
echo "‚úÖ –î–µ–ø–ª–æ–π –∑–∞–≤–µ—Ä—à–µ–Ω!"
echo "–ù–µ –∑–∞–±—É–¥—å—Ç–µ –Ω–∞–∂–∞—Ç—å Reload –≤ –ø–∞–Ω–µ–ª–∏ Web!"
```

–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —Ñ–∞–π–ª (Ctrl+O, Enter, Ctrl+X) –∏ —Å–¥–µ–ª–∞–π—Ç–µ –µ–≥–æ –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º:

```bash
chmod +x ~/deploy.sh
```

#### 2. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç–∞

–¢–µ–ø–µ—Ä—å –¥–ª—è –¥–µ–ø–ª–æ—è –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å:

```bash
~/deploy.sh
```

–ò –∑–∞—Ç–µ–º –Ω–∞–∂–∞—Ç—å **Reload** –≤ –ø–∞–Ω–µ–ª–∏ Web –Ω–∞ PythonAnywhere.

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–∏—Ç –∫–∞–∫ backend, —Ç–∞–∫ –∏ frontend (–µ—Å–ª–∏ build –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏).

---

### –í–∞—Ä–∏–∞–Ω—Ç 2: Scheduled Task (–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ)

–ú–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ Scheduled Tasks:

#### 1. –°–æ–∑–¥–∞–π—Ç–µ —Å–∫—Ä–∏–ø—Ç –¥–ª—è –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

```bash
cd ~
nano auto_update.sh
```

```bash
#!/bin/bash
cd ~/gwadm
git pull origin master > /dev/null 2>&1

# –ï—Å–ª–∏ –µ—Å—Ç—å –Ω–æ–≤—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
cd ~/gwadm/backend
pip3.10 install --user -r requirements.txt --quiet > /dev/null 2>&1

# –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
echo "$(date): Auto-update completed" >> ~/deploy.log
```

–°–¥–µ–ª–∞–π—Ç–µ —Å–∫—Ä–∏–ø—Ç –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º:
```bash
chmod +x ~/auto_update.sh
```

#### 2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ Scheduled Task

1. –í –ø–∞–Ω–µ–ª–∏ PythonAnywhere –æ—Ç–∫—Ä–æ–π—Ç–µ **Tasks**
2. –î–æ–±–∞–≤—å—Ç–µ –Ω–æ–≤—É—é –∑–∞–¥–∞—á—É:
   - **Command:** `bash ~/auto_update.sh`
   - **Schedule:** –µ–∂–µ–¥–Ω–µ–≤–Ω–æ –∏–ª–∏ –µ–∂–µ–Ω–µ–¥–µ–ª—å–Ω–æ

‚ö†Ô∏è **–í–Ω–∏–º–∞–Ω–∏–µ:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Ç—Ä–µ–±—É–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è API, –∫–æ—Ç–æ—Ä—ã–π –¥–æ—Å—Ç—É–ø–µ–Ω —Ç–æ–ª—å–∫–æ –Ω–∞ –ø–ª–∞—Ç–Ω—ã—Ö –ø–ª–∞–Ω–∞—Ö.

---

### –í–∞—Ä–∏–∞–Ω—Ç 3: PythonAnywhere API (–¢–æ–ª—å–∫–æ –ø–ª–∞—Ç–Ω—ã–µ –ø–ª–∞–Ω—ã)

–î–ª—è –ø–æ–ª–Ω–æ–π –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å PythonAnywhere API:

#### 1. –ü–æ–ª—É—á–∏—Ç–µ API —Ç–æ–∫–µ–Ω

1. –û—Ç–∫—Ä–æ–π—Ç–µ https://www.pythonanywhere.com/api_token/
2. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –≤–∞—à API —Ç–æ–∫–µ–Ω

#### 2. –°–æ–∑–¥–∞–π—Ç–µ —Å–∫—Ä–∏–ø—Ç –¥–µ–ø–ª–æ—è –ª–æ–∫–∞–ª—å–Ω–æ

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `deploy_to_pythonanywhere.py`:

```python
#!/usr/bin/env python3
"""
–°–∫—Ä–∏–ø—Ç –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –¥–µ–ø–ª–æ—è –Ω–∞ PythonAnywhere —á–µ—Ä–µ–∑ API
"""
import requests
import subprocess
import sys

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏
PYTHONANYWHERE_USERNAME = "–≤–∞—à_username"
API_TOKEN = "–≤–∞—à_api_token"
WEB_APP_ID = "–≤–∞—à_web_app_id"  # –û–±—ã—á–Ω–æ –≤–∞—à_username.pythonanywhere.com

def push_to_github():
    """–ü—É—à–∏—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ GitHub"""
    print("1. –û—Ç–ø—Ä–∞–≤–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ GitHub...")
    try:
        subprocess.run(["git", "add", "."], check=True)
        subprocess.run(["git", "commit", "-m", "Auto deploy"], check=True)
        subprocess.run(["git", "push", "origin", "master"], check=True)
        print("‚úÖ –ò–∑–º–µ–Ω–µ–Ω–∏—è –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω—ã –≤ GitHub")
        return True
    except subprocess.CalledProcessError as e:
        print(f"‚ùå –û—à–∏–±–∫–∞: {e}")
        return False

def trigger_pythonanywhere_update():
    """–¢—Ä–∏–≥–≥–µ—Ä–∏—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–∞ PythonAnywhere —á–µ—Ä–µ–∑ API"""
    print("2. –ó–∞–ø—É—Å–∫ –¥–µ–ø–ª–æ—è –Ω–∞ PythonAnywhere...")
    
    # –í—ã–ø–æ–ª–Ω—è–µ–º –∫–æ–º–∞–Ω–¥—É –Ω–∞ PythonAnywhere —á–µ—Ä–µ–∑ API
    url = f"https://www.pythonanywhere.com/api/v0/user/{PYTHONANYWHERE_USERNAME}/consoles/"
    
    headers = {
        "Authorization": f"Token {API_TOKEN}"
    }
    
    # –°–æ–∑–¥–∞–µ–º –∫–æ–Ω—Å–æ–ª—å –∏ –≤—ã–ø–æ–ª–Ω—è–µ–º –∫–æ–º–∞–Ω–¥—É –¥–µ–ø–ª–æ—è
    data = {
        "executable": "bash",
        "arguments": "-c 'cd ~/gwadm && git pull && cd backend && pip3.10 install --user -r requirements.txt'"
    }
    
    try:
        response = requests.post(url, headers=headers, json=data)
        if response.status_code == 201:
            print("‚úÖ –ö–æ–º–∞–Ω–¥–∞ –¥–µ–ø–ª–æ—è –∑–∞–ø—É—â–µ–Ω–∞")
            
            # –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ–º –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
            reload_url = f"https://www.pythonanywhere.com/api/v0/user/{PYTHONANYWHERE_USERNAME}/webapps/{WEB_APP_ID}/reload/"
            reload_response = requests.post(reload_url, headers=headers)
            
            if reload_response.status_code == 200:
                print("‚úÖ –í–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω–æ")
                return True
            else:
                print(f"‚ö†Ô∏è  –ù–µ —É–¥–∞–ª–æ—Å—å –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å (–∫–æ–¥ {reload_response.status_code})")
                return True  # –í—Å–µ —Ä–∞–≤–Ω–æ —É—Å–ø–µ—Ö, –ø—Ä–æ—Å—Ç–æ –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –≤—Ä—É—á–Ω—É—é
        else:
            print(f"‚ùå –û—à–∏–±–∫–∞ API: {response.status_code}")
            return False
    except Exception as e:
        print(f"‚ùå –û—à–∏–±–∫–∞: {e}")
        return False

def main():
    print("=== –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π –Ω–∞ PythonAnywhere ===\n")
    
    if not push_to_github():
        sys.exit(1)
    
    if not trigger_pythonanywhere_update():
        print("\n‚ö†Ô∏è  –î–µ–ø–ª–æ–π —á–µ—Ä–µ–∑ API –Ω–µ —É–¥–∞–ª—Å—è.")
        print("–í—ã–ø–æ–ª–Ω–∏—Ç–µ –≤—Ä—É—á–Ω—É—é –Ω–∞ PythonAnywhere:")
        print("  cd ~/gwadm && git pull && cd backend && pip3.10 install --user -r requirements.txt")
        print("–ó–∞—Ç–µ–º –Ω–∞–∂–º–∏—Ç–µ Reload –≤ –ø–∞–Ω–µ–ª–∏ Web")
        sys.exit(1)
    
    print("\n‚úÖ –î–µ–ø–ª–æ–π –∑–∞–≤–µ—Ä—à–µ–Ω —É—Å–ø–µ—à–Ω–æ!")

if __name__ == "__main__":
    main()
```

#### 3. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

```bash
python deploy_to_pythonanywhere.py
```

---

---

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è

–î–ª—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ —Å–ª—É—á–∞–µ–≤ **–í–∞—Ä–∏–∞–Ω—Ç 1 (Git + Bash —Å–∫—Ä–∏–ø—Ç)** ‚Äî —Å–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π –∏ –Ω–∞–¥–µ–∂–Ω—ã–π:

1. –°–æ–∑–¥–∞–π—Ç–µ `~/deploy.sh` –Ω–∞ PythonAnywhere
2. –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –≤—ã–ø–æ–ª–Ω–∏—Ç–µ: `~/deploy.sh`
3. –ù–∞–∂–º–∏—Ç–µ **Reload** –≤ –ø–∞–Ω–µ–ª–∏ Web

–≠—Ç–æ –∑–∞–Ω–∏–º–∞–µ—Ç ~30 —Å–µ–∫—É–Ω–¥ –∏ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ API –∏–ª–∏ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤.

---

## üìù –ë—ã—Å—Ç—Ä–∞—è –∫–æ–º–∞–Ω–¥–∞ –¥–µ–ø–ª–æ—è

–ï—Å–ª–∏ –≤—ã —á–∞—Å—Ç–æ –æ–±–Ω–æ–≤–ª—è–µ—Ç–µ –ø—Ä–æ–µ–∫—Ç, –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –∞–ª–∏–∞—Å:

```bash
echo 'alias deploy="cd ~/gwadm && git pull && cd backend && pip3.10 install --user -r requirements.txt && echo \"–û–±–Ω–æ–≤–∏—Ç–µ –∫–æ–¥. –ù–∞–∂–º–∏—Ç–µ Reload –≤ Web!\""' >> ~/.bashrc
source ~/.bashrc
```

–¢–µ–ø–µ—Ä—å –¥–ª—è –¥–µ–ø–ª–æ—è –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ:

```bash
deploy
```

---

## ‚ö†Ô∏è –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

1. **API –¥–æ—Å—Ç—É–ø–µ–Ω —Ç–æ–ª—å–∫–æ –Ω–∞ –ø–ª–∞—Ç–Ω—ã—Ö –ø–ª–∞–Ω–∞—Ö** PythonAnywhere (Hacker, Web Developer, etc.)
2. **–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π –ø–ª–∞–Ω** –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ API
3. **SSH –¥–æ—Å—Ç—É–ø** –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ –±–µ—Å–ø–ª–∞—Ç–Ω–æ–º –ø–ª–∞–Ω–µ

## ‚úÖ –ò—Ç–æ–≥–æ

- **–Ø –Ω–µ –º–æ–≥—É –Ω–∞–ø—Ä—è–º—É—é –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è** –∫ PythonAnywhere
- –ù–æ –º–æ–∂–Ω–æ **–∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å –¥–µ–ø–ª–æ–π** —á–µ—Ä–µ–∑ —Å–∫—Ä–∏–ø—Ç—ã
- **–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –í–∞—Ä–∏–∞–Ω—Ç 1** ‚Äî –ø—Ä–æ—Å—Ç–æ–π bash —Å–∫—Ä–∏–ø—Ç —Å Git

